问题1：线上kafka消费突然全部挂了，消息堆积了500w，导致告警。然后所有
处理：1：导出jmap文件分析内层告警，发现是piline写入redis 的时候发现maxWaitMillis 没有配置 默认值就是-1 导致piline一致等待连接导致堆栈溢出


问题2：优化耗时，调用方要求20ms,实际服务调用超过，调用经常超时
1：调用采用SDK的方式，10000个广告
2：导出flame graph (火焰图：最高，最宽)，分析发现string拼接占用很多耗时
3：本地测试发现，频繁拼接然后toString导致耗时
4：修改设计架构，通过冗余存储数据，通过空间换时间的方法优化
5：效果15ms降低到3ms

 问题：每个服务自己都创建连接池操作redis，流量高峰期导致redis连接太多，大量查询超时
 优化：查询redis 单独创建一个服务独立出来，更好控制redis连接数。


 一次优化JVM ：频繁yongGC，因为设置了最长的gc时间，每次gc不完。  多个实例部署到一个机器上